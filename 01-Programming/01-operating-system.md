## 操作系统

线程与进程

- 进程是 CPU 资源分配的最小单位，是能拥有资源和独立运行的最小单位
- 线程是 CPU 调度的最小单位，线程是建立在进程的基础上的一次程序运行单位，一个进程中可以有多个线程

• 进程
• 资源分配最小单位
• 有自己的独立地址空间，系统会建立数据表来维护代码段、堆栈段和数据段
• 进程间的通信需要以通信的方式（IPC）进行
• 多进程程序更健壮
• 同步：无名管道、有名管道、信号、共享内存、消息队列、信号量
• 僵尸进程：子进程退出时父进程没有获取其最新状态的子进程（ps 命令的 defunct 京城状态）
• 孤儿进程：父进程运行结束时子进程还在运行时
• 线程
• 程序执行的最小单位
• 是共享中的数据，使用相同的地址空间（开销小）
• 同一进程下的线程间共享全局变量、静态变量等数据
• 多线程见需要处理好同步和互斥，否则一个线程死掉整个进程死掉
• 同步：互斥量、读写锁、自旋锁、线程信号、条件变量